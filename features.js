const langResource = {
    ko: {
        profilenav: "프로필",
        settingsnav: "설정",
        faqnav: "문의",
        recevent: "추천 경기",
        upcomingevents: "다가오는 경기",
        news: "뉴스",
        more: "더보기",
        more1: "더보기",
        remove: "삭제",
        selectAll: "전부 선택",
        card: "현재 예정된 스케쥴이 없습니다. 여기를 눌러주세요.",
        tips: "팁과 충고",
        tips1: "현지 풍습과 예절",
        tips1n1: "호주사람들은 대체로 친절하고 느긋합니다",
        tips1n2: "간단한 인사로 G'day(그데이)나 Hello(헬로우)가 있습니다.",
        tips1n3:
            "팁은 필수는 아니지만 감사한 마음으로 할 수는 있습니다. (가격의 10%정도)",
        tips2: "음식",
        tips2n1:
            "베지마이트 (발라먹는 잼 종류), 미트파이, 래밍턴, 캥거루고기 그리고 댐퍼 (빵의 종류) 같은 호주 음식들을 시도해보세요.",
        tips2n2: "호주 전통의 바베큐(바비)를 시도해보세요",
        tips2n3:
            "호주의 다문화 인구 덕분에 다양한 나라의 음식들을 맛볼 수 있습니다.",
        tips3: "야생동물과 자연",
        tips3n1:
            "호주는 호주만의 자연으로 잘 알려져있습니다. 야생동물들을 조심해주세요. 그리고 특히 자연공원에선 안전 가이드라인을 따라주세요.",
        tips3n2:
            "야생동물에게 먹이를 주지마세요. 동물이나 먹이를 주는 분도 위험할 수 있어요.",
        tips4: "대중교통",
        tips4n1:
            "브리즈번은 대중교통이 잘 발달돼있습니다. 예로 버스, 기차, 페리가 있습니다. 편리함을 위해서 Go Card(고카드) 구입을 생각해보세요.",
        tips4n2:
            "차를 렌트하기로 결정했다면 호주는 왼쪽 차선에서 운전하니 조심하세요.",
        tips5: "위급상황",
        tips5n1: "경찰, 소방, 의료지원은 000번으로 전화주세요",
        tips6: "원주민 문화",
        tips6n1:
            "호주의 원주민 문화와 전통에 대해 배우고 존중하며, 더 깊은 이해를 얻기 위해 문화 센터를 방문하거나 원주민 행사에 참석하는 것을 추천합니다.",
        bottomtip:
            "이러한 팁을 따르고 현지의 관습과 문화를 존중함으로써, 2032년 브리즈번 올림픽 기간 동안 기억에 남고 즐거운 시간을 보낼 수 있을겁니다. 스포츠와 아름다운 호주의 풍경을 즐기세요",
        translateButton: "번역",
        inputplaceholder: "입력하거나 마이크버튼을 누르고 말하세요.",
        outputplaceholder: "번역이 되면 여기에 표시됩니다.",
        faq1: "이앱은 무엇인가요?",
        faqb1: "이앱은 손님들께 올림픽 일정을 짜고 도움을 주는 앱입니다. 통역/번역 기능도 있습니다.",
        faq2: "언어변경은 어떻게 하나요?",
        faqb2: "왼쪽 상단에 ≡을 누르고 설정 (Settings) -> 언어 (Language) -> 원하시는 언어를 선택하시면 됩니다.",
        faq3: "번역 기능은 어떻게 사용하나요?",
        faqb3: "오른쪽 맨끝 하단 버튼을 누르시고 번역을 원하시는 언어를 고른 후 오른쪽 하단에 마이크 버튼 또는 가운데 박스를 누르고 타자를 치신 다음, 번역 버튼을 누르시면 됩니다.",
        terms: "이용약관을 다 읽고 확인했습니다.",
        logoutLink: "로그아웃",
        sub: "계속",
        signlog: "여기",
        account1: "이미 계정이 있으신가요? 그럼",
        account2: "계정이 없으신가요? 그럼",
        clickp: "를 눌러주세요!",
        archery: "양궁",
        gymnastic: "체조",
        swimming: "아티스틱 수영",
        athletic: "육상경기",
        badminton: "배드민턴",
        softball: "소프트볼",
        basketball: "농구",
        beach: "비치발리볼",
        boxing: "복싱",
        bboy: "비보잉",
        canoef: "카누 플랫워터",
        canoes: "카누 슬라럼",
        bmx: "BMX 프리스타일",
        bmxrace: "BMX 레이싱",
        mountainbike: "마운틴 바이크 사이클링",
        road: "로드 사이클링",
        track: "트랙 사이클링",
    },
    ja: {
        profilenav: "プロフィール",
        settingsnav: "設定",
        faqnav: "お問い合わせ",
        recevent: "おすすめの試合",
        upcomingevents: "今後の試合",
        news: "ニュース",
        more: "もっと見る",
        more1: "もっと見る",
        remove: "削除",
        selectAll: "すべて選択",
        card: "現在のスケジュールはありません。こちらをクリックしてください。",
        tips: "ヒントとアドバイス",
        tips1: "現地の習慣とエチケット",
        tips1n1: "オーストラリア人は一般的に親切でのんびりしています。",
        tips1n2: "挨拶はG'day（グデイ）またはHello（ハロー）などがあります。",
        tips1n3:
            "チップは必須ではありませんが、感謝の気持ちで約10％程度渡すことができます。",
        tips2: "食事",
        tips2n1:
            "ベジマイト（ジャムの一種）、ミートパイ、ラム肉、カンガルー肉、ダンパー（パンの一種）などのオーストラリア料理を試してみてください。",
        tips2n2: "オーストラリアの伝統的なバーベキューを試してみてください。",
        tips2n3:
            "多文化な人口のおかげで、さまざまな国の料理を楽しむことができます。",
        tips3: "野生動物と自然",
        tips3n1:
            "オーストラリアは固有の自然で知られています。野生動物に注意してください。特に自然公園では安全ガイドラインに従ってください。",
        tips3n2:
            "野生動物に餌を与えないでください。動物や餌を与える人も危険にさらされる可能性があります。",
        tips4: "公共交通機関",
        tips4n1:
            "ブリスベンではバス、電車、フェリーなどの公共交通機関がよく整備されています。便利さのためにGo Card（ゴーカード）の購入を検討してみてください。",
        tips4n2:
            "車をレンタルする場合、オーストラリアは左側通行なので注意が必要です。",
        tips5: "緊急時",
        tips5n1: "警察、消防、医療支援は000番に電話してください。",
        tips6: "先住民文化",
        tips6n1:
            "オーストラリアの先住民文化と伝統について学び、尊重し、文化センターを訪れたり、先住民のイベントに参加することをお勧めします。",
        bottomtip:
            "これらのヒントに従い、現地の慣習と文化を尊重することで、2032年のブリスベンオリンピック期間中に楽しい時間を過ごすことができます。スポーツと美しいオーストラリアの景色を楽しんでください。",
        translateButton: "翻訳",
        inputplaceholder: "入力またはマイクボタンを押して話してください。",
        outputplaceholder: "翻訳されたテキストがここに表示されます。",
        faq1: "このアプリは何ですか？",
        faqb1: "このアプリは、訪問者にオリンピックスケジュールを作成し、サポートするためのアプリです。通訳/翻訳機能も備えています。",
        faq2: "言語を変更するにはどうすればよいですか？",
        faqb2: "左上の≡をクリックし、設定->言語->お好きな言語を選択してください。",
        faq3: "翻訳機能はどのように使用できますか？",
        faqb3: "右下のボタンをクリックし、翻訳したい言語を選択し、右下のマイクボタンまたは中央のボックスをクリックし、テキストを入力し、翻訳ボタンをクリックしてください。",
        logoutLink: "ログアウト",
        terms: "利用規約をすべて読み、確認しました。",
        sub: "続ける",
        signlog: "こちら",
        account1: "既にアカウントをお持ちですか？ それなら",
        account2: "アカウントをお持ちでないですか？ それなら",
        clickp: "をクリックしてください！",
        archery: "射撃",
        gymnastic: "体操",
        swimming: "アーティスティック水泳",
        athletic: "陸上競技",
        badminton: "バドミントン",
        softball: "ソフトボール",
        basketball: "バスケットボール",
        beach: "ビーチバレーボール",
        boxing: "ボクシング",
        bboy: "ビーボーイ",
        canoef: "カヌーフラットウォーター",
        canoes: "カヌースラロム",
        bmx: "BMXフリースタイル",
        bmxrace: "BMXレース",
        mountainbike: "マウンテンバイクサイクリング",
        road: "ロードサイクリング",
        track: "トラックサイクリング",
    },
    en: {
        profilenav: "Profile",
        settingsnav: "Settings",
        faqnav: "FAQ",
        recevent: "Recommended Events",
        upcomingevents: "Upcoming Events",
        news: "News",
        inputplaceholder: "Enter or speak to translate",
        outputplaceholder: "Translation will appear here",
    },
    zh: {
        profilenav: "个人资料",
        settingsnav: "设置",
        faqnav: "常见问题",
        recevent: "推荐比赛",
        upcomingevents: "即将举行的比赛",
        news: "新闻",
        more: "更多",
        more1: "更多",
        remove: "删除",
        selectAll: "全选",
        card: "当前没有计划的日程。请点击这里。",
        tips: "提示和建议",
        tips1: "当地风俗与礼仪",
        tips1n1: "澳大利亚人通常很友善和悠闲。",
        tips1n2: "用简单的问候语，如G'day（你好）或Hello（你好）。",
        tips1n3: "小费不是必需的，但可以表示感谢（大约价格的10%）。",
        tips2: "美食",
        tips2n1:
            "尝试澳大利亚的食物，如Vegemite（面包涂抹物）、肉馅饼、Lamington、袋鼠肉和Damper（面包品种）。",
        tips2n2: "尝试澳大利亚传统的烧烤。",
        tips2n3: "由于澳大利亚多元文化的人口，你可以品尝各种国家的食物。",
        tips3: "野生动物和大自然",
        tips3n1:
            "澳大利亚以其独特的自然环境而闻名。请小心野生动物，特别是在自然公园遵循安全指南。",
        tips3n2: "不要喂养野生动物。喂食动物可能对你和动物都构成危险。",
        tips4: "公共交通",
        tips4n1:
            "布里斯班的公共交通系统非常发达，包括公共汽车、火车和渡轮。考虑购买Go Card以获得更多便利。",
        tips4n2: "如果你决定租车，澳大利亚靠左行驶，所以要小心。",
        tips5: "紧急情况",
        tips5n1: "警察、消防和医疗支援的紧急电话是000。",
        tips6: "土著文化",
        tips6n1:
            "建议了解和尊重澳大利亚土著文化和传统，可以参观文化中心或参加土著活动以更深入地了解。",
        bottomtip:
            "遵循这些建议并尊重当地习惯和文化，你将在2032年布里斯班奥运会期间留下美好的回忆并度过愉快的时光。享受体育和美丽的澳大利亚风景。",
        translateButton: "翻译",
        inputplaceholder: "输入或点击麦克风按钮说话。",
        outputplaceholder: "翻译将显示在这里。",
        faq1: "这个应用是什么？",
        faqb1: "这个应用程序为游客提供制定奥林匹克日程并提供帮助。它还具有口译/翻译功能。",
        faq2: "如何更改语言？",
        faqb2: "在左上角点击≡，然后选择“设置”->“语言”->选择所需的语言。",
        faq3: "如何使用翻译功能？",
        faqb3: "点击右下角的按钮，选择要翻译的语言，然后点击右下角的麦克风按钮或中间的框以输入文本，然后点击翻译按钮。",
        terms: "我已经阅读并确认接受使用条款。",
        logoutLink: "登出",
        sub: "继续",
        signlog: "这里",
        account1: "已经有账户了吗？那么",
        account2: "还没有账户吗？那么",
        clickp: "点击这里!",
        archery: "射箭",
        gymnastic: "体操",
        swimming: "艺术游泳",
        athletic: "田径比赛",
        badminton: "羽毛球",
        softball: "垒球",
        basketball: "篮球",
        beach: "沙滩排球",
        boxing: "拳击",
        bboy: "街舞",
        canoef: "平水皮划艇",
        canoes: "障碍皮划艇",
        bmx: "BMX自由式",
        bmxrace: "BMX赛车",
        mountainbike: "山地自行车",
        road: "公路自行车",
        track: "赛道自行车",
    },
};

// Function to set the language cookie
function setLanguageCookie(lang) {
    setCookie("selectedLanguage", lang, 30);
}

// Function to get the language from the cookie
function getLanguageFromCookie() {
    return getCookie("selectedLanguage") || "en";
}

// Function to set a cookie
function setCookie(name, value, days) {
    const date = new Date();
    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
    const expires = "expires=" + date.toUTCString();
    document.cookie = name + "=" + value + ";" + expires + ";path=/";
}
// Function to get a cookie
function getCookie(name) {
    const cookieName = name + "=";
    const cookies = document.cookie.split(";");
    for (let i = 0; i < cookies.length; i++) {
        let cookie = cookies[i];
        while (cookie.charAt(0) === " ") {
            cookie = cookie.substring(1);
        }
        if (cookie.indexOf(cookieName) === 0) {
            return cookie.substring(cookieName.length, cookie.length);
        }
    }
    return "";
}

// Function to update language
function updateLanguage(lang, langResource) {
    const inputTextElement = document.getElementById("input-text");
    if (inputTextElement) {
        inputTextElement.placeholder =
            langResource[lang].inputplaceholder || "";
    }
    const outputTextElement = document.getElementById("output-text");
    if (outputTextElement) {
        outputTextElement.placeholder =
            langResource[lang].outputplaceholder || "";
    }

    for (let key in langResource[lang]) {
        const element = document.getElementById(key);
        if (element) {
            element.textContent = langResource[lang][key];
        }
    }
}

// Initialize the page with the selected language from a cookie
window.addEventListener("load", function () {
    const selectedLang = getLanguageFromCookie();
    document.getElementById("languageSelector").value = selectedLang;
    updateLanguage(selectedLang, langResource);

    // Add a listener to the language selector
    document
        .getElementById("languageSelector")
        .addEventListener("change", function () {
            const selectedLang = this.value;
            setCookie("selectedLanguage", selectedLang, 30); // Store the selected language in a cookie (expires in 30 days)
            updateLanguage(selectedLang, langResource); // Update the content with the selected language
            setLanguageCookie(selectedLang); // Set the language cookie
            updateLanguage(selectedLang, langResource);
        });
});

//Side navigation bar opening and closing function
function openNav() {
    document.getElementById("mySidenav").style.width = "300px";
}

function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
}

function toggleSubNav() {
    var subNavContent = document.getElementById("subNavContent");
    if (subNavContent.style.display === "block") {
        subNavContent.style.display = "none";
    } else {
        subNavContent.style.display = "block";
    }
}

//FAQ Page
var faq = document.getElementsByClassName("faq-page");
var i;
for (i = 0; i < faq.length; i++) {
    faq[i].addEventListener("click", function () {
        /* Toggle between adding and removing the "active" class,
        to highlight the button that controls the panel */
        this.classList.toggle("active");
        /* Toggle between hiding and showing the active panel */
        var body = this.nextElementSibling;
        if (body.style.display === "block") {
            body.style.display = "none";
        } else {
            body.style.display = "block";
        }
    });
}

//Translation part
// cd C:\Users\jaech\Documents\deco3801\frontend
// browserify features.js -o bundle.js
document
    .getElementById("translateButton")
    .addEventListener("click", async () => {
        const sourceLanguage = document.getElementById("source-language").value;
        const targetLanguage = document.getElementById("target-language").value;
        const inputText = document.getElementById("input-text").value;

        // Translation feature
        const { Translate } = require("./@google-cloud/translate").v2;
        const translate = new Translate({
            key: "AIzaSyAAA0VNdOevLNCj781gGkycuP7fxKO_u7o",
        });

        async function translateText(text, targetLanguage) {
            let result = await translate.translate(text, targetLanguage);
            return result[0];
        }

        document.getElementById("output-text").value = await translateText(
            inputText,
            targetLanguage
        );
    });

// Js for all events page.
function toggleListExpansion(parentElement) {
    const listExpansion = parentElement.querySelector(".list-expansion");
    listExpansion.classList.toggle("show");
}

function toggleAllListExpansion(button) {
    var eventTable = button.closest(".event-table");
    const listExpansions = eventTable.querySelectorAll(".list-expansion");

    if (button.innerText === "Show all") {
        for (var listExpansion of listExpansions) {
            listExpansion.classList.add("show");
        }
        button.innerText = "Hide all";
    } else {
        for (var listExpansion of listExpansions) {
            listExpansion.classList.remove("show");
        }
        button.innerText = "Show all";
    }
}

function addOrRemove(button) {
    var event = button.closest(".list-expansion-content");
    // TODO: if the event in the planner, remove it, otherwise add

    button.classList.add("rotating");
    var img = getComputedStyle(button).backgroundImage;

    // Toggle the add/remove icon
    // change img after animation finish (0.3s)
    setTimeout(function () {
        if (img.includes("add.png")) {
            button.style.backgroundImage = "url('img/remove.png')";
        } else {
            button.style.backgroundImage = "url('img/add.png')";
        }
        button.classList.remove("rotating");
    }, 300);
}
